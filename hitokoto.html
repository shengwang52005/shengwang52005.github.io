<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <title>æ‹¾ç©—ğŸŒ¾</title>
    <link rel="icon" type="image/x-icon" href="assets/images/touxiang.jpg">
    <link type="text/css" rel="stylesheet" href="assets\css\hitokoto.css" />
    <script src="https://cdn.bootcdn.net/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
    <script src="assets/js/page.3a0791a3.js"></script>
</head>
<body>
    <nav>
		<a class="clip"></a> <a href="index.html" target="_blank">é¦–é¡µ</a>
		<a class="clip"></a> <a href="hitokoto.html" target="_blank">ä¸€è¨€</a>
        <a class="clip"></a> <a href="starts.html" target="_blank">æ˜Ÿç©º</a>
	</nav>
    <!-- æ˜Ÿç©ºç”»å¸ƒ -->
    <canvas id="startrack" width="100%" height="100%"></canvas>
    <script>window.addEventListener('load', function() {});</script>
    <div id="hitokoto">
        <h1 id="hitokoto_text">:D è·å–ä¸­...</h1>
        <p id="hitokoto_author"></p>
    </div>
    <div id="buttonContainer">
        <button id="copyButton" onclick="copyToClipboard()">å¤åˆ¶åˆ°å‰ªè´´æ¿</button>
        <button id="refreshButton" onclick="refreshHitokoto();alert('å› ä¸ºä¸€è¨€apiæ¥å£qpsé™åˆ¶ï¼Œå¯èƒ½ä¸€è¨€ä¸ä¼šæ›´æ¢~')">é‡æ–°è·å–ä¸€è¨€</button>
    </div>
    <script>
        // é‡æ–°è·å–ä¸€è¨€
        function refreshHitokoto() {
            fetch('https://international.v1.hitokoto.cn/')
                .then(response => response.json())
                .then(data => {
                    const hitokoto = $('#hitokoto_text');
                    const author = data.from || '';
                    hitokoto.text("ã€" + (data.hitokoto || '') + "ã€");
                    $('#hitokoto_author').text("â€”â€” " + (data.from_who || '') + "ã€Œ" + author + "ã€");
                })
                .catch(console.error);
        }

        // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯éš”ä¸€å®šæ—¶é—´é‡æ–°è·å–ä¸€è¨€
        function startAutoRefresh() {
            setInterval(refreshHitokoto, 30000); // 30ç§’ï¼ˆåŠåˆ†é’Ÿï¼‰é‡æ–°è·å–ä¸€æ¬¡
        }

        // é¡µé¢åŠ è½½å®Œæˆåå¼€å§‹å®šæ—¶åˆ·æ–°
        $(document).ready(function () {
            startAutoRefresh();
        });

        $('#copyButton').on('click', function () {
            const hitokotoText = $('#hitokoto_text').text();
            const hitokotoAuthor = $('#hitokoto_author').text();
            const copy = `${hitokotoText}${hitokotoAuthor}`;

            navigator.clipboard.writeText(copy)
                .then(() => {
                    alert('å¤åˆ¶å®Œæˆ');
                })
                .catch(err => {
                    console.error('ä¸æ”¯æŒå¤åˆ¶åˆ°å‰ªåˆ‡æ¿ï¼Œè¯·æ›´æ¢æµè§ˆå™¨', err);
                });
        });

        fetch('https://v1.hitokoto.cn/')
            .then(response => response.json())
            .then(data => {
                const hitokoto = $('#hitokoto_text');
                const author = data.from || '';
                hitokoto.text("ã€" + (data.hitokoto || '') + "ã€");
                $('#hitokoto_author').text("â€”â€” " + (data.from_who || '') + "ã€Œ" + author + "ã€");
            })
            .catch(console.error);
    </script>
</body>
</html>