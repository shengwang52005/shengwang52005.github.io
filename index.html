<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="utf-8">
    <title>æ‹¾ç©—ğŸŒ¾</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
    <link type="text/css" rel="stylesheet" href="style.css" />
</head>
<body>
    <div id="hitokoto">
        <h1 id="hitokoto_text">:D è·å–ä¸­...</h1>
        <p id="hitokoto_author"></p>
    </div>
    <div id="buttonContainer">
        <button id="copyButton" onclick="copyToClipboard()">å¤åˆ¶åˆ°å‰ªè´´æ¿</button>
    </div>
    <script>
        document.getElementById('copyButton').addEventListener('click', function () {
            const hitokotoText = document.getElementById('hitokoto_text').innerText;
            const hitokotoAuthor = document.getElementById('hitokoto_author').innerText;
            const copy = `${hitokotoText}${hitokotoAuthor}`;

            navigator.clipboard.writeText(copy)
                .then(() => {
                    alert('å¤åˆ¶å®Œæˆ');
                })
                .catch(err => {
                    console.error('ä¸æ”¯æŒå¤åˆ¶åˆ°å‰ªåˆ‡æ¿ï¼Œè¯·æ›´æ¢æµè§ˆå™¨', err);
                });
        });

        fetch('https://international.v1.hitokoto.cn/')
            .then(response => response.json())
            .then(data => {
                const hitokoto = document.querySelector('#hitokoto_text');
                const author = data.from || '';
                hitokoto.innerText = data.hitokoto;
                $('#hitokoto_text').text("ã€" + (data.hitokoto || '') + "ã€");
                $('#hitokoto_author').text("â€”â€” " + (data.from_who || '') + "ã€Œ" + author + "ã€");
            })
            .catch(console.error);
    </script>
</body>
</html>
